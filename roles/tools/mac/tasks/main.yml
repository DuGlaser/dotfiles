- block:
    - name: Homebrew update
      community.general.homebrew:
        update_homebrew: yes

    - name: Install package using homebrew
      community.general.homebrew:
        state: present
        name:
          - bat
          - exa
          - fzf
          - gh
          - ghq
          - git
          - htop
          - hub
          - neofetch
          - peco
          - ripgrep
          - tig
          - tmux

    - name: Install rust
      become: true
      shell: make setup/rust

    - name: Build alacritty
      become: true
      shell: make setup/alacritty

    - name: Install neovim dependencies
      community.general.homebrew:
        state: present
        name:
          - ninja
          - libtool
          - automake
          - cmake
          - pkg-config
          - gettext
          - curl

    - name: Build neovim
      become: true
      shell: make setup/nvim

  when: ansible_os_family == "Darwin"
